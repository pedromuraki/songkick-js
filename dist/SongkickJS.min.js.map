{"version":3,"sources":["webpack://SongkickJS/webpack/universalModuleDefinition","webpack://SongkickJS/webpack/bootstrap","webpack://SongkickJS/./src/SongkickJS.js","webpack://SongkickJS/./index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","errors","SongkickJS","key","isHttps","_classCallCheck","this","_API_KEY","_isHttps","options","_checkRequiredParams","from","id","_checkParamValue","reason","_makeRequest","_apiUrl","_paramsMarkup","optionalParams","username","trackingObject","searchBy","artist_name","location","console","log","keys","length","query","params","paramsMarkup","entries","forEach","_ref","_ref2","_slicedToArray","url","_this","Promise","resolve","reject","_requestUrl","req","XMLHttpRequest","open","onload","status","JSON","parse","responseText","resultsPage","send","param","paramValue","acceptedValues","some","acceptedValue","default"],"mappings":"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","file":"SongkickJS.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SongkickJS\"] = factory();\n\telse\n\t\troot[\"SongkickJS\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","// const this._apiUrl() = 'http://api.songkick.com/api/3.0';\nconst errors = {\n  required: 'Error: Required parameter(s) missing. See library documentation.',\n  invalid: 'Error: Invalid parameter(s). See library documentation.'\n};\n\n// const XMLHttpRequest = require(\"xmlhttprequest\").XMLHttpRequest;\n\nclass SongkickJS {\n  constructor(key, isHttps) {\n    this._API_KEY = key;\n    this._isHttps = isHttps;\n    /*\n    this._API_KEY *\n    this._requestUrl (defined after a request)\n    */\n  }\n\n  // UPCOMING EVENTS\n  getUpcomingEvents(options) {\n    /*\n    options: {\n      from *\n        artists, venues, metro_areas, users\n      id *\n        obs: for users, set username as id\n      reason (required if from === user)\n        tracked_artist, attendance\n      optionalParams: {\n        min_date\n        max_date\n        page\n        per_page\n        order\n      }\n    }\n    */\n    this._checkRequiredParams([options.from, options.id]);\n    this._checkParamValue(options.from, [\n      'artists',\n      'venues',\n      'metro_areas',\n      'users'\n    ]);\n    if (options.from === 'users') {\n      this._checkRequiredParams([options.reason]);\n      this._checkParamValue(options.reason, ['tracked_artist', 'attendance']);\n    }\n\n    const reason = options.reason ? `reason=${options.reason}&` : '';\n    return this._makeRequest(\n      `${this._apiUrl()}/${options.from}/${\n        options.id\n      }/calendar.json?${reason}apikey=${this._API_KEY}${this._paramsMarkup(\n        options.optionalParams\n      )}`\n    );\n  }\n  // PAST EVENTS\n  getPastEvents(options) {\n    /*\n    options: {\n      from *\n        artists, users\n      id *\n        obs: for users, set username as id\n      optionalParams: {\n        min_date\n        max_date\n        page\n        per_page\n        order\n      }\n    }\n    */\n    this._checkRequiredParams([options.from, options.id]);\n    this._checkParamValue(options.from, ['artists', 'users']);\n\n    return this._makeRequest(\n      `${this._apiUrl()}/${options.from}/${options.id}/gigography.json?apikey=${\n        this._API_KEY\n      }${this._paramsMarkup(options.optionalParams)}`\n    );\n  }\n\n  // DETAILS (FROM ARTISTS, EVENTS OR VENUES)\n  getDetails(options) {\n    /*\n    options: {\n      from *\n        artists, events, venues\n      id *\n    }\n    */\n    this._checkRequiredParams([options.from, options.id]);\n    this._checkParamValue(options.from, ['artists', 'venues', 'events']);\n\n    return this._makeRequest(\n      `${this._apiUrl()}/${options.from}/${options.id}.json?apikey=${\n        this._API_KEY\n      }`\n    );\n  }\n\n  // USER TRACKINGS (OF METROS AREAS OR ARTISTS)\n  getUserTrackings(options) {\n    /*\n    options: {\n      username *\n      trackingObject *\n        metro_areas, artists\n      optionalParams: {\n        page\n        per_page\n        fields\n        created_after\n      }\n    }\n    */\n    this._checkRequiredParams([options.username, options.trackingObject]);\n    this._checkParamValue(options.trackingObject, ['metro_areas', 'artists']);\n\n    return this._makeRequest(\n      `${this._apiUrl()}/users/${options.username}/${\n        options.trackingObject\n      }/tracked.json?apikey=${this._API_KEY}${this._paramsMarkup(\n        options.optionalParams\n      )}`\n    );\n  }\n  // USER MUTED ARTISTS\n  getUserMutedArtists(options) {\n    /*\n    options: {\n      username *\n      optionalParams: {\n        page\n        per_page\n        fields\n        created_after\n      }\n    }\n    */\n    this._checkRequiredParams([options.username]);\n\n    return this._makeRequest(\n      `${this._apiUrl()}/users/${options.username}/artists/muted.json?apikey=${\n        this._API_KEY\n      }${this._paramsMarkup(options.optionalParams)}`\n    );\n  }\n  // IS USER TRACKING\n  isUserTracking(options) {\n    /*\n    options: {\n      username *\n      trackingObject *\n        metro_area, artist, event\n      id *\n    }\n    */\n    this._checkRequiredParams([\n      options.username,\n      options.trackingObject,\n      options.id\n    ]);\n    this._checkParamValue(options.trackingObject, [\n      'metro_area',\n      'artist',\n      'event'\n    ]);\n\n    return this._makeRequest(\n      `${this._apiUrl()}/users/${options.username}/trackings/${\n        options.trackingObject\n      }:${options.id}.json?apikey=${this._API_KEY}`\n    );\n  }\n\n  // SIMILAR ARTISTS\n  getSimilarArtists(options) {\n    /*\n    options: {\n      id *\n      optionalParams: {\n        page\n        per_page\n      }\n    }\n    */\n    this._checkRequiredParams([options.id]);\n\n    return this._makeRequest(\n      `${this._apiUrl()}/artists/${options.id}/similar_artists.json?apikey=${\n        this._API_KEY\n      }${this._paramsMarkup(options.optionalParams)}`\n    );\n  }\n\n  // SEARCH EVENTS\n  searchEvents(options) {\n    /*\n    options: {\n      searchBy: {\n        artist_name (required if location not provided)\n          artist+name\n        location (required if artist_name not provided)\n          sk:<id>, geo:<lat>,<lng>, ip:<ip>, clientip\n      }\n      optionalParams: {\n        min_date\n          YYYY-MM-DD\n        max_date\n          YYYY-MM-DD\n        type\n          'Concert', 'Festival'\n        page\n        per_page\n      }\n    }\n    */\n    if (\n      !options.searchBy ||\n      (!options.searchBy.artist_name && !options.searchBy.location)\n    )\n      console.log(errors.required);\n    if (Object.keys(options.searchBy).length > 3) console.log(errors.invalid);\n\n    return this._makeRequest(\n      `${this._apiUrl()}/events.json?apikey=${\n        this._API_KEY\n      }${this._paramsMarkup(options.searchBy)}${this._paramsMarkup(\n        options.optionalParams\n      )}`\n    );\n  }\n  // SEARCH ARTISTS\n  searchArtists(options) {\n    /*\n    options: {\n      query*\n        artist+name\n      optionalParams: {\n        page\n        per_page\n      }\n    }\n    */\n    this._checkRequiredParams([options.query]);\n\n    return this._makeRequest(\n      `${this._apiUrl()}/search/artists.json?apikey=${this._API_KEY}&query=${\n        options.query\n      }${this._paramsMarkup(options.optionalParams)}`\n    );\n  }\n  // SEARCH VENUES\n  searchVenues(options) {\n    /*\n    options: {\n      query*\n        venue+name\n      optionalParams: {\n        page\n        per_page\n      }\n    }\n    */\n    this._checkRequiredParams([options.query]);\n\n    return this._makeRequest(\n      `${this._apiUrl()}/search/venues.json?apikey=${this._API_KEY}&query=${\n        options.query\n      }${this._paramsMarkup(options.optionalParams)}`\n    );\n  }\n  // SEARCH LOCATIONS\n  searchLocations(options) {\n    /*\n    options: {\n      searchBy: {\n        query (required if location not provided)\n          location+name\n        location (required if query not provided)\n          geo:<lat>,<lng>, ip:<ip>, clientip\n      }\n      optionalParams: {\n        page\n        per_page\n      }\n    }\n    */\n    if (\n      !options.searchBy ||\n      (!options.searchBy.query && !options.searchBy.location)\n    )\n      console.log(errors.required);\n    if (Object.keys(options.searchBy).length > 1) console.log(errors.invalid);\n\n    const searchBy = options.searchBy.query\n      ? `query=${options.searchBy.query}`\n      : `location=${options.searchBy.location}`;\n    return this._makeRequest(\n      `${this._apiUrl()}/search/locations.json?${searchBy}&apikey=${\n        this._API_KEY\n      }${this._paramsMarkup(options.optionalParams)}`\n    );\n  }\n\n  // HELPERS\n  _apiUrl() {\n    return `${this._isHttps ? 'https' : 'http'}://api.songkick.com/api/3.0`;\n  }\n\n  _paramsMarkup(params) {\n    let paramsMarkup = '';\n    if (params)\n      Object.entries(params).forEach(\n        ([key, value]) => (paramsMarkup += `&${key}=${value}`)\n      );\n    return paramsMarkup;\n  }\n\n  _makeRequest(url) {\n    return new Promise((resolve, reject) => {\n      this._requestUrl = url;\n\n      var req = new XMLHttpRequest();\n      req.open('GET', url);\n\n      req.onload = () =>\n        req.status === 200\n          ? resolve(JSON.parse(req.responseText).resultsPage)\n          : '';\n\n      req.send();\n    });\n  }\n\n  _checkRequiredParams(params) {\n    params.forEach(param => {\n      if (!param) console.log(errors.required);\n    });\n  }\n\n  _checkParamValue(paramValue, acceptedValues) {\n    const isValid = acceptedValues.some(acceptedValue => {\n      return paramValue === acceptedValue;\n    });\n    if (!isValid)\n      console.log(\n        `Error: \"${paramValue}\" is not a valid value. See library documentation.`\n      );\n  }\n\n  // GETTERS\n  get requestUrl() {\n    return this._requestUrl;\n  }\n}\n\nexport default SongkickJS;\n","module.exports = require('./src/SongkickJS').default;\n"],"sourceRoot":""}