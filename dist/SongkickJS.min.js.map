{"version":3,"sources":["webpack://SongkickJS/webpack/universalModuleDefinition","webpack://SongkickJS/webpack/bootstrap","webpack://SongkickJS/./index.js","webpack://SongkickJS/./src/SongkickJS.js","webpack://SongkickJS/./src/constants/errors.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","default","_errors","SongkickJS","isHttps","_classCallCheck","this","_API_KEY","_isHttps","options","_checkRequiredParams","from","id","_checkParamValue","reason","_makeRequest","_apiUrl","_paramsMarkup","optionalParams","username","trackingObject","searchBy","artist_name","location","console","log","errors","required","keys","length","invalid","query","params","paramsMarkup","entries","forEach","_ref","_ref2","_slicedToArray","url","_this","Promise","resolve","reject","_requestUrl","req","XMLHttpRequest","open","onload","status","JSON","parse","responseText","resultsPage","send","param","paramValue","acceptedValues","some","acceptedValue"],"mappings":"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","file":"SongkickJS.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SongkickJS\"] = factory();\n\telse\n\t\troot[\"SongkickJS\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","module.exports = require('./src/SongkickJS').default;\n","import errors from './constants/errors'\n\n// const XMLHttpRequest = require(\"xmlhttprequest\").XMLHttpRequest\n\nclass SongkickJS {\n  constructor(key, isHttps) {\n    this._API_KEY = key\n    this._isHttps = isHttps\n    /*\n    this._API_KEY *\n    this._isHttps\n    this._requestUrl (defined after a request)\n    */\n  }\n\n  // UPCOMING EVENTS\n  getUpcomingEvents(options) {\n    /*\n    options: {\n      from *\n        artists, venues, metro_areas, users\n      id *\n        obs: for users, set username as id\n      reason (required if from === user)\n        tracked_artist, attendance\n      optionalParams: {\n        min_date\n        max_date\n        page\n        per_page\n        order\n      }\n    }\n    */\n    this._checkRequiredParams([options.from, options.id])\n    this._checkParamValue(options.from, ['artists', 'venues', 'metro_areas', 'users'])\n    if (options.from === 'users') {\n      this._checkRequiredParams([options.reason])\n      this._checkParamValue(options.reason, ['tracked_artist', 'attendance'])\n    }\n\n    const reason = options.reason ? `reason=${options.reason}&` : ''\n    return this._makeRequest(`${this._apiUrl()}/${options.from}/${options.id}/calendar.json?${reason}apikey=${this._API_KEY}${this._paramsMarkup(options.optionalParams)}`)\n  }\n\n  // PAST EVENTS\n  getPastEvents(options) {\n    /*\n    options: {\n      from *\n        artists, users\n      id *\n        obs: for users, set username as id\n      optionalParams: {\n        min_date\n        max_date\n        page\n        per_page\n        order\n      }\n    }\n    */\n    this._checkRequiredParams([options.from, options.id])\n    this._checkParamValue(options.from, ['artists', 'users'])\n\n    return this._makeRequest(`${this._apiUrl()}/${options.from}/${options.id}/gigography.json?apikey=${this._API_KEY}${this._paramsMarkup(options.optionalParams)}`)\n  }\n\n  // DETAILS (FROM ARTISTS, EVENTS OR VENUES)\n  getDetails(options) {\n    /*\n    options: {\n      from *\n        artists, events, venues\n      id *\n    }\n    */\n    this._checkRequiredParams([options.from, options.id])\n    this._checkParamValue(options.from, ['artists', 'venues', 'events'])\n\n    return this._makeRequest(`${this._apiUrl()}/${options.from}/${options.id}.json?apikey=${this._API_KEY}`)\n  }\n\n  // USER TRACKINGS (OF METROS AREAS OR ARTISTS)\n  getUserTrackings(options) {\n    /*\n    options: {\n      username *\n      trackingObject *\n        metro_areas, artists\n      optionalParams: {\n        page\n        per_page\n        fields\n        created_after\n      }\n    }\n    */\n    this._checkRequiredParams([options.username, options.trackingObject])\n    this._checkParamValue(options.trackingObject, ['metro_areas', 'artists'])\n\n    return this._makeRequest(`${this._apiUrl()}/users/${options.username}/${options.trackingObject}/tracked.json?apikey=${this._API_KEY}${this._paramsMarkup(options.optionalParams)}`)\n  }\n\n  // USER MUTED ARTISTS\n  getUserMutedArtists(options) {\n    /*\n    options: {\n      username *\n      optionalParams: {\n        page\n        per_page\n        fields\n        created_after\n      }\n    }\n    */\n    this._checkRequiredParams([options.username])\n\n    return this._makeRequest(`${this._apiUrl()}/users/${options.username}/artists/muted.json?apikey=${this._API_KEY}${this._paramsMarkup(options.optionalParams)}`)\n  }\n\n  // IS USER TRACKING\n  isUserTracking(options) {\n    /*\n    options: {\n      username *\n      trackingObject *\n        metro_area, artist, event\n      id *\n    }\n    */\n    this._checkRequiredParams([options.username, options.trackingObject, options.id])\n    this._checkParamValue(options.trackingObject, ['metro_area', 'artist', 'event'])\n\n    return this._makeRequest(`${this._apiUrl()}/users/${options.username}/trackings/${options.trackingObject}:${options.id}.json?apikey=${this._API_KEY}`)\n  }\n\n  // SIMILAR ARTISTS\n  getSimilarArtists(options) {\n    /*\n    options: {\n      id *\n      optionalParams: {\n        page\n        per_page\n      }\n    }\n    */\n    this._checkRequiredParams([options.id])\n\n    return this._makeRequest(`${this._apiUrl()}/artists/${options.id}/similar_artists.json?apikey=${this._API_KEY}${this._paramsMarkup(options.optionalParams)}`)\n  }\n\n  // SEARCH EVENTS\n  searchEvents(options) {\n    /*\n    options: {\n      searchBy: {\n        artist_name (required if location not provided)\n          artist+name\n        location (required if artist_name not provided)\n          sk:<id>, geo:<lat>,<lng>, ip:<ip>, clientip\n      }\n      optionalParams: {\n        min_date\n          YYYY-MM-DD\n        max_date\n          YYYY-MM-DD\n        type\n          'Concert', 'Festival'\n        page\n        per_page\n      }\n    }\n    */\n    if (!options.searchBy || (!options.searchBy.artist_name && !options.searchBy.location)) console.log(errors.required)\n    if (Object.keys(options.searchBy).length > 3) console.log(errors.invalid)\n\n    return this._makeRequest(`${this._apiUrl()}/events.json?apikey=${this._API_KEY}${this._paramsMarkup(options.searchBy)}${this._paramsMarkup(options.optionalParams)}`)\n  }\n\n  // SEARCH ARTISTS\n  searchArtists(options) {\n    /*\n    options: {\n      query*\n        artist+name\n      optionalParams: {\n        page\n        per_page\n      }\n    }\n    */\n    this._checkRequiredParams([options.query])\n\n    return this._makeRequest(`${this._apiUrl()}/search/artists.json?apikey=${this._API_KEY}&query=${options.query}${this._paramsMarkup(options.optionalParams)}`)\n  }\n\n  // SEARCH VENUES\n  searchVenues(options) {\n    /*\n    options: {\n      query*\n        venue+name\n      optionalParams: {\n        page\n        per_page\n      }\n    }\n    */\n    this._checkRequiredParams([options.query])\n\n    return this._makeRequest(`${this._apiUrl()}/search/venues.json?apikey=${this._API_KEY}&query=${options.query}${this._paramsMarkup(options.optionalParams)}`)\n  }\n\n  // SEARCH LOCATIONS\n  searchLocations(options) {\n    /*\n    options: {\n      searchBy: {\n        query (required if location not provided)\n          location+name\n        location (required if query not provided)\n          geo:<lat>,<lng>, ip:<ip>, clientip\n      }\n      optionalParams: {\n        page\n        per_page\n      }\n    }\n    */\n    if (!options.searchBy || (!options.searchBy.query && !options.searchBy.location)) console.log(errors.required)\n    if (Object.keys(options.searchBy).length > 1) console.log(errors.invalid)\n\n    const searchBy =\n      options.searchBy.query\n        ? `query=${options.searchBy.query}`\n        : `location=${options.searchBy.location}`\n\n    return this._makeRequest(`${this._apiUrl()}/search/locations.json?${searchBy}&apikey=${this._API_KEY}${this._paramsMarkup(options.optionalParams)}`)\n  }\n\n  // HELPERS\n  _apiUrl() {\n    return `${this._isHttps ? 'https' : 'http'}://api.songkick.com/api/3.0`\n  }\n\n  _paramsMarkup(params) {\n    let paramsMarkup = ''\n    if (params) Object.entries(params).forEach(([key, value]) => (paramsMarkup += `&${key}=${value}`))\n    return paramsMarkup\n  }\n\n  _makeRequest(url) {\n    return new Promise((resolve, reject) => {\n      this._requestUrl = url\n\n      var req = new XMLHttpRequest()\n      req.open('GET', url)\n\n      req.onload = () =>\n        req.status === 200\n          ? resolve(JSON.parse(req.responseText).resultsPage)\n          : ''\n\n      req.send()\n    })\n  }\n\n  _checkRequiredParams(params) {\n    params.forEach(param => {\n      if (!param) console.log(errors.required)\n    })\n  }\n\n  _checkParamValue(paramValue, acceptedValues) {\n    const isValid = acceptedValues.some(acceptedValue => paramValue === acceptedValue)\n    if (!isValid) console.log(`Error: \"${paramValue}\" is not a valid value. See library documentation.`)\n  }\n\n  // GETTERS\n  get requestUrl() {\n    return this._requestUrl\n  }\n}\n\nexport default SongkickJS\n","const errors = {\n  required: 'Error: Required parameter(s) missing. See library documentation.',\n  invalid: 'Error: Invalid parameter(s). See library documentation.'\n}\n\nexport default errors\n"],"sourceRoot":""}